{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"title": "Test Card Schema Configuration",
	"description": "The Schmea for the test card generator configuration of the canvas",
	"type": "object",
	"properties": {
		"widget identifier": {
            "type": "string",
            "enum": ["canvas options"],
			"description": "This to be labelled as \"canvas options\", so that the json is correclty configured"
        },
		"name": {
			"type": "array",
			"minItems": 1,
			"items": {
				"anyOf": [
					{
						"$ref": "#/$defs/fileinput/png"
					},
					{
						"$ref": "#/$defs/fileinput/tiff"
					},
					{
						"$ref": "#/$defs/fileinput/dpx"
					},
					{
						"$ref": "#/$defs/fileinput/csv"
					},
					{
						"$ref": "#/$defs/fileinput/sth"
					}
				]
			},
			"description": "The filename and optional location for the generated image to be saved"
		},
		"frameSize": {
			"type": "object",
			"properties": {
				"w": {
					"type": "integer",
					"minimum": 24,
					"maximum": 65535
				},
				"h": {
					"type": "integer",
					"minimum": 24,
					"maximum": 65535
				}
			},
			"additionalProperties": false,
			"required": [
				"w",
				"h"
			],
			"description": "The width and height of the zone plate in pixels"
		},
		"linewidth": {
			"type": "number",
			"minimum": 0,
			"maximum": 100,
			"description": "the width of the gridlines"
		},
		"filedepth": {
			"enum": [
				8,
				10,
				12,
				16
			],
			"description": "These are the available bit depths in which a dpx file generated by the test card generator can be saved. If left empty then the file is saved as 16 bit."
		}
	},
	"required": [
		"name",
		"frameSize",
		"widget identifier"
	],
	"additionalProperties": false,
	"$defs": {
		"colourvals": {
			"description": "the range for which a rgb value of colour is applicable",
			"type": "integer",
			"minimum": 0,
			"maximum": 4095
		},
		"fileinput": {
			"png": {
				"type": "string",
				"pattern": "^[\\w\\W]{1,255}\\.[pP][nN][gG]$",
				"description": "## Example\n### Acceptable inputs\n- myfile.png\n\n- ./myfolder/myfile.PNG\n- 這是有效的文件名.png\n### Invalid Inputs\n- ramps.pngg"
			},
			"tiff": {
				"type": "string",
				"pattern": "^[\\w\\W]{1,255}\\.[tT][iI][fF]{1,2}$",
				"description": "## Example\n### Acceptable inputs\n- myfile.tif\n- ./myfolder/myfile.tiff\n- 這是有效的文件名.TIFF\n### Invalid Inputs\n- ramps.tifg"
			},
			"dpx": {
				"type": "string",
				"pattern": "^[\\w\\W]{1,255}\\.[dD][pP][xX]$",
				"description": "## Example\n### Acceptable inputs\n- myfile.dpx\n- ./myfolder/myfile.DPX\n- 這是有效的文件名.dpX\n### Invalid Inputs\n- ramps.dp_x"
			},
			"sth": {
				"type": "string",
				"pattern": "^[\\w\\W]{1,255}\\.[7][tT][hH]$",
				"description": "## Example\n### Acceptable inputs\n- myfile.7th\n- ./myfolder/myfile.7TH\n- 這是有效的文件名.7Th\n### Invalid Inputs\n- ramps.7p_h"
			},
			"csv": {
				"type": "string",
				"pattern": "^[\\w\\W]{1,255}\\.[cC][sS][Vv]$",
				"description": "## Example\n### Acceptable inputs\n- myfile.csv\n- ./myfolder/myfile.CSV\n- 這是有效的文件名.csV\n### Invalid Inputs\n- ramps.csv.r"
			}
		}
	}
}